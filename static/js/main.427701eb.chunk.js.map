{"version":3,"sources":["components/Dashboard/libs/useInterval.js","components/Dashboard/libs/index.js","components/Dashboard/Timelapse/index.js","components/Dashboard/Status/index.js","components/Database/lib/firebase.js","components/Database/index.js","components/Dashboard/VideoGallery/index.js","components/Dashboard/RecorderMonitor/index.js","components/Dashboard/index.js","App.js","serviceWorker.js","index.js","components/Dashboard/VideoGallery/index.module.css","components/Dashboard/RecorderMonitor/index.module.css","logo.svg"],"names":["useInterval","callback","delay","useEffect","t","setInterval","clearInterval","downloadMultiple","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee2","files","status","zip","promises","wrap","_context2","prev","next","JSZip","map","_ref2","_callee","v","i","_context","concat","push","axios","method","url","src","responseType","then","response","file","Blob","data","type","name","catch","e","JSON","stringify","console","log","stop","_x3","_x4","apply","this","arguments","Promise","all","generateAsync","content","FileSaver","saveAs","_x","_x2","Preview","srcs","_ref$delay","_useState","useState","_useState2","slicedToArray","count","setCount","srcsRef","useRef","current","l","length","react_default","createElement","style","height","Timelapse","run","_useState3","_useState4","frames","setFrames","forEach","path","secs","video","document","crossOrigin","onloadedmetadata","duration","currentTime","Math","min","max","onseeked","canvas","videoHeight","width","videoWidth","getContext","drawImage","toDataURL","call","onerror","undefined","getVideoImage","res","img","updated","objectSpread","handleAddFrames","_useState5","_useState6","setSrcs","toConsumableArray","values","_useState7","_useState8","setDelay","position","border","borderRadius","minHeight","margin","padding","Fragment","maxHeight","overflowX","overFlowY","key","Timelapse_Preview","marginTop","marginBottom","fontSize","display","justifyContent","alignItems","bottom","right","flexDirection","color","marginRight","outline","boxShadow","onChange","target","value","Status","statuses","date","overflowY","backgroundColor","textAlign","borderBottom","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","reactConfig","keys","firebase","apps","initializeApp","dayjs","locale","grabListOfVideoPaths","_callee3","day","daystamp","_context3","format","firestore","collection","doc","orderBy","get","querySnapshot","filenames","_ref3","split","slice","storage","ref","getDownloadURL","message","code","sent","abrupt","pullAppStateFromDB","_ref4","_callee4","_context4","VideoList","_ref$date","showPreview","setShowPreview","setStatus","handleStatus","statusText","p","createTimelapse","setCreateTimelapse","vlist","setVlist","_useState9","_useState10","setLoading","videoCount","filter","_useState11","_useState12","vlistChecked","setVlistChecked","_useState13","_useState14","numSelected","setNumSelected","Array","from","handleCheckbox","bool","newList","_useState15","_useState16","subset","setSubset","onClick","pointerEvents","Dashboard_Timelapse","Dashboard_Status","className","styles","videoGrid","controls","autoPlay","playsInline","loop","muted","videoName","checkbox","checked","href","checkboxSimple","RecorderMonitor","recorderState","setRecorderState","getRecorderState","recState","recorderMonitorContainer","listTable","Dashboard","today","setDate","query","setQuery","dashboardContainer","onSubmit","preventDefault","placeholder","VideoGallery","Dashboard_RecorderMonitor","App","components_Dashboard","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","listContainer","__webpack_require__"],"mappings":"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","file":"static/js/main.427701eb.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\n\nconst useInterval = (callback, delay) => {\n  useEffect(() => {\n    const t = setInterval(() => {\n      callback();\n    }, delay);\n\n    return () => clearInterval(t);\n  }, [callback, delay]);\n\n  // no returns, because it calls the callback at intervals\n};\n\nexport default useInterval;\n","import JSZip from \"jszip\";\nimport FileSaver from \"file-saver\";\nimport axios from \"axios\";\n\nexport { default as useInterval } from \"./useInterval\";\n\nexport const downloadMultiple = async (files, status) => {\n  var zip = new JSZip();\n  // zip.file(\"Hello.txt\", \"Hello World\\n\");\n  // var img = zip.folder(\"images\");\n  // img.file(\"smile.gif\", imgData, { base64: true });\n\n  const promises = [];\n\n  files.map(async (v, i) => {\n    status && status(`item no.${i + 1} - performing GET requests`);\n    promises.push(\n      axios({ method: \"get\", url: v.src, responseType: \"blob\" })\n        .then(response => {\n          status &&\n            status(`item no.${i + 1} - download complete. adding to zip file`);\n          let file = new Blob([response.data], { type: \"video/mp4\" });\n          zip.file(v.name, file);\n        })\n        .catch(e => {\n          status &&\n            status(`item no.${i + 1} - download error: ${JSON.stringify(e)}`);\n          console.log(\"axios error: \", e);\n          //throw new Error(\"download failed. check console.\");\n        })\n    );\n  });\n\n  await Promise.all(promises);\n  status && status(\"all downloads complete. generating zip file.\");\n\n  zip.generateAsync({ type: \"blob\" }).then(function(content) {\n    status && status(\"zip complete. saving!\");\n    // see FileSaver.js\n    FileSaver.saveAs(content, \"videos.zip\");\n  });\n};\n\nexport const download = (\n  content,\n  fileName = \"text.mp4\",\n  contentType = \"video/webm\"\n) => {\n  let a = document.createElement(\"a\");\n  let file = new Blob([content], { type: contentType });\n  a.href = URL.createObjectURL(file);\n  a.download = fileName;\n  a.click();\n};\n\nexport const downloadOneVideo = video => {\n  axios({ method: \"get\", url: video.src, responseType: \"blob\" }).then(\n    response => {\n      download(response.data);\n    }\n  );\n};\n\nexport const getVideoImage = (path, secs, callback) => {\n  var me = this,\n    video = document.createElement(\"video\");\n  video.crossOrigin = \"anonymous\";\n  video.onloadedmetadata = function() {\n    if (\"function\" === typeof secs) {\n      secs = secs(this.duration);\n    }\n    this.currentTime = Math.min(\n      Math.max(0, (secs < 0 ? this.duration : 0) + secs),\n      this.duration\n    );\n  };\n  video.onseeked = function(e) {\n    var canvas = document.createElement(\"canvas\");\n    canvas.height = video.videoHeight;\n    canvas.width = video.videoWidth;\n    var ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    // var img = new Image();\n    // img.crossOrigin = \"anonymous\";\n    // img.src = canvas.toDataURL();\n    const src = canvas.toDataURL();\n\n    callback.call(me, src, this.currentTime, e);\n  };\n  video.onerror = function(e) {\n    callback.call(me, undefined, undefined, e);\n  };\n  video.src = path;\n};\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { getVideoImage, useInterval } from \"../libs\";\n\nconst Preview = ({ srcs, delay = 300 }) => {\n  const [count, setCount] = useState(0);\n  const srcsRef = useRef(srcs);\n  useEffect(() => {\n    srcsRef.current = srcs;\n  }, [srcs]);\n\n  useInterval(() => {\n    const l = srcsRef.current.length - 1;\n    if (count >= l) {\n      setCount(0);\n    } else {\n      setCount(count + 1);\n    }\n  }, delay);\n\n  return (\n    <div style={{ height: 300 }}>\n      <img src={srcs[count]} height=\"100%\"></img>\n    </div>\n  );\n};\n\nconst Timelapse = ({ data, status, run }) => {\n  const [frames, setFrames] = useState({});\n  useEffect(() => {\n    if (data.length > 0 && run) {\n      status &&\n        status(\n          `creating ${data.length} frames! this usually takes a long time...`\n        );\n      const handleAddFrames = (img, i) => {\n        setFrames(prev => {\n          const updated = { ...prev };\n          updated[i] = img;\n          return updated;\n        });\n      };\n\n      data.forEach((v, i) => {\n        const src = v.src;\n        getVideoImage(src, 0.5, res => handleAddFrames(res, i));\n      });\n    }\n  }, [data, run]);\n\n  const [srcs, setSrcs] = useState([]);\n  useEffect(() => {\n    setSrcs([...Object.values(frames)]);\n  }, [frames]);\n\n  const [delay, setDelay] = useState(300);\n\n  if (!run) return null;\n\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        border: \"1px solid black\",\n        borderRadius: 8,\n        minHeight: 50,\n        margin: \"0 30px\",\n        padding: 10\n      }}\n    >\n      {srcs.length > 0 ? (\n        <>\n          <div\n            style={{\n              position: \"absolute\",\n              maxHeight: 300,\n              width: 50,\n              overflowX: \"hidden\",\n              overFlowY: \"auto\"\n            }}\n          >\n            {srcs.map((v, i) => (\n              <img key={i} src={v} width=\"100%\"></img>\n            ))}\n          </div>\n\n          <Preview srcs={srcs} delay={Math.max(delay, 30)} />\n        </>\n      ) : (\n        <>\n          <h4 style={{ margin: \"10px 0 0 0\" }}>Loading timelapse...</h4>\n          <p style={{ marginTop: 5, marginBottom: 10, fontSize: 11 }}>\n            have you selected any videos to to create the timelapse?\n          </p>\n        </>\n      )}\n\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          position: \"absolute\",\n          bottom: 10,\n          right: 0\n        }}\n      >\n        <div\n          style={{\n            margin: \"0 10px 0 0\",\n            display: \"flex\",\n            flexDirection: \"column\"\n          }}\n        >\n          <h5 style={{ margin: 0 }}>\n            DELAY <small style={{ color: \"lightgray\" }}>ms</small>\n          </h5>\n\n          <small style={{ fontSize: 8, margin: 0 }}>min delay: 30</small>\n        </div>\n\n        <input\n          style={{\n            height: 18,\n            width: 50,\n            padding: 5,\n            marginRight: 10,\n            borderRadius: 5,\n            outline: \"none\",\n            border: \"1px solid black\",\n            boxShadow: \"1px 2px 5px #08BDBD55\"\n          }}\n          onChange={e => setDelay(e.target.value)}\n          value={delay}\n        />\n      </div>\n    </div>\n  );\n};\nexport default Timelapse;\n","import React from \"react\";\n\nconst Status = ({ statuses, date }) => {\n  return (\n    <ul\n      style={{\n        height: 130,\n        overflowY: \"auto\",\n        borderRadius: 8,\n        backgroundColor: \"black\",\n        padding: 10,\n        color: \"white\",\n        margin: \"0 30px\",\n        textAlign: \"left\"\n      }}\n    >\n      {statuses.map((v, i) => (\n        <li\n          key={`${date}-${i}`}\n          style={{\n            fontSize: 11,\n            padding: \"2px 0\",\n            borderBottom: \"1px solid rgba(143, 143, 143, 0.2)\"\n          }}\n        >\n          {v}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default Status;\n","import firebase from \"firebase\";\n\nconst config = {\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  databaseURL: process.env.databaseURL,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.messagingSenderId\n};\n\nconst reactConfig = {};\nObject.keys(config).map(v => {\n  reactConfig[v] = process.env[`REACT_APP_${v}`];\n});\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(reactConfig);\n}\n\nexport default firebase;\n//module.exports = firebase;\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"./lib/firebase\";\n\n// timestamps\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/ja\";\ndayjs.locale(\"ja\");\n\nexport default firebase;\n\nexport const logging = (message, callback) => {\n  const timestamp = dayjs().format(\"YYYY-MM-DDTHH:mm:ss:SSS\");\n  const daystamp = dayjs().format(\"YYYY-MM-DD\");\n\n  firebase\n    .firestore()\n    .collection(\"logs\")\n    .doc(daystamp)\n    .collection(\"logs\")\n    .doc(timestamp)\n    .set({ message: message }, { merge: true })\n    .then(v => {\n      callback && callback(v);\n    })\n    .catch(e => console.log(\"LOGGING ERROR: \", e));\n};\n\nexport const grabListOfVideoPaths = async day => {\n  const daystamp = day\n    ? dayjs(day).format(\"YYYY-MM-DD\")\n    : dayjs().format(\"YYYY-MM-DD\");\n\n  console.log(\"grabbing videos from: \", daystamp);\n\n  return await firebase\n    .firestore()\n    .collection(\"videoURL\")\n    .doc(daystamp)\n    .collection(\"urls\")\n    .orderBy(\"url\")\n    .get()\n    .then(async querySnapshot => {\n      let promises = [];\n      let filenames = [];\n      //console.log(querySnapshot);\n      await querySnapshot.forEach(async doc => {\n        // here are your DB video filepaths\n        const url = doc.data().url;\n        filenames.push(url.split(\"/\").slice(-1));\n        //console.log(url);\n\n        promises.push(\n          firebase\n            .storage()\n            .ref(url)\n            .getDownloadURL() // this is an async function\n            .catch(e => {\n              console.log(e.message);\n              if (e.code === \"storage/object-not-found\")\n                return \"video not found\";\n              else return false;\n            })\n        );\n      });\n\n      const srcs = await Promise.all(promises);\n      return srcs.map((v, i) => ({\n        name: filenames[i][0],\n        src: v\n      }));\n    });\n};\n\n// single call\nexport const pullAppStateFromDB = async () => {\n  return await firebase\n    .firestore()\n    .collection(\"appState\")\n    .doc(\"commands\")\n    .get()\n    .then(doc => {\n      return doc.data();\n    })\n    .catch(e => console.log(\"REMOTE DB STATE READ ERROR: \", e));\n};\n\nexport const FireStoreState = ({\n  collection = \"appState\",\n  doc = \"commands\",\n  onUpdate\n}) => {\n  const [dbState, setDBState] = useState({});\n\n  useEffect(() => {\n    firebase\n      .collection(collection)\n      .doc(doc)\n      .onSnapshot(snapshot => {\n        setDBState(snapshot.data());\n      });\n    return () => setDBState({});\n  }, []);\n\n  useEffect(() => {\n    if (onUpdate) onUpdate(dbState);\n  }, [dbState]);\n\n  return <p>db state: {JSON.stringify(dbState, null, 2)}</p>;\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport Timelapse from \"../Timelapse\";\nimport Status from \"../Status\";\n\nimport { grabListOfVideoPaths } from \"../../Database\";\nimport { downloadMultiple, download } from \"../libs\";\n\nimport styles from \"./index.module.css\";\n\nconst VideoList = ({ date = \"2019-07-08\" }) => {\n  // toggle preview\n  const [showPreview, setShowPreview] = useState(false);\n  // status reporting\n  const [statuses, setStatus] = useState([]);\n  const handleStatus = statusText => {\n    setStatus(p => [...p.slice(-5), statusText]);\n  };\n  // create timelapse\n  const [createTimelapse, setCreateTimelapse] = useState(false);\n\n  // list videos from db\n  const [vlist, setVlist] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const d = \"YYYY-MM-DD\";\n    setLoading(true);\n    handleStatus(`loading videos for date: ${date}`);\n\n    grabListOfVideoPaths(date)\n      .then(v => {\n        v && setVlist(v);\n        setLoading(false);\n        handleStatus(`videos loaded for date: ${date}`);\n      })\n      .catch(e => {\n        setLoading(false);\n        handleStatus(`videos loaded error: ${JSON.stringify(e)}`);\n      });\n  }, [date]);\n\n  const videoCount =\n    vlist.length > 0\n      ? vlist.filter(v => {\n          const test = v.src && v.src !== \"video not found\";\n          return test;\n        }).length\n      : 0;\n\n  // store a list of indices you want to delete. order doesn't matter\n  const [vlistChecked, setVlistChecked] = useState([]);\n  const [numSelected, setNumSelected] = useState();\n  useEffect(() => {\n    setVlistChecked(Array.from(vlist, () => false));\n  }, [vlist]);\n\n  useEffect(() => {\n    setNumSelected(vlistChecked.filter(v => v === true).length);\n  }, [vlistChecked]);\n\n  const handleCheckbox = (bool, i) => {\n    let newList = vlistChecked.slice(0);\n    newList[i] = bool;\n    setVlistChecked(newList);\n  };\n\n  const [subset, setSubset] = useState([]);\n  useEffect(() => {\n    if (vlist.length > 0 && numSelected > 0) {\n      console.log(\"setting subset\");\n      setSubset(vlist.filter((v, i) => vlistChecked[i]));\n    }\n  }, [vlist, vlistChecked, numSelected]);\n\n  return (\n    <>\n      <div style={{ textAlign: \"left\", margin: \"0 30px\" }}>\n        <br />\n\n        <h4 style={{ margin: \"0 0 8px 0\" }}>\n          current list of videos on {date}:{\" \"}\n          <span\n            style={{\n              color:\n                videoCount === vlist.length && videoCount ? \"black\" : \"orange\"\n            }}\n          >\n            {videoCount} (storage) / {vlist.length} (db){\" \"}\n          </span>\n        </h4>\n\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div>\n            <button onClick={() => setShowPreview(!showPreview)}>\n              preview video\n            </button>{\" \"}\n            <button\n              onClick={() => setCreateTimelapse(!createTimelapse)}\n              style={{ backgroundColor: createTimelapse ? \"red\" : \"\" }}\n            >\n              preview timelapse\n            </button>\n          </div>\n\n          <div>\n            <button\n              style={{\n                color: numSelected === 0 ? \"lightgray\" : \"\",\n                pointerEvents: numSelected === 0 ? \"none\" : \"all\"\n              }}\n              onClick={() =>\n                downloadMultiple(\n                  vlist.filter((v, i) => vlistChecked[i]),\n                  handleStatus\n                )\n              }\n            >\n              DOWNLOAD {numSelected}\n            </button>{\" \"}\n            <button onClick={() => downloadMultiple(vlist, handleStatus)}>\n              DOWNLOAD ALL\n            </button>\n          </div>\n        </div>\n        <br />\n      </div>\n\n      <Timelapse data={subset} status={handleStatus} run={createTimelapse} />\n      <br />\n      <Status statuses={statuses} date={date} />\n\n      {(showPreview || createTimelapse) && (\n        <h4 style={{ color: \"red\" }}>\n          WARNING: video and timelapse previews count towards download quota of\n          1GB/day\n        </h4>\n      )}\n\n      <div\n        style={{\n          textAlign: \"left\",\n          margin: \"0 30px\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        }}\n      >\n        <h4>videos selected: {numSelected}</h4>\n        <div>\n          <button onClick={() => setVlistChecked(p => p.map(() => false))}>\n            select none\n          </button>{\" \"}\n          <button onClick={() => setVlistChecked(p => p.map(() => true))}>\n            select all\n          </button>\n        </div>\n      </div>\n\n      <div\n        style={{\n          border: \"1px solid black\",\n          borderRadius: 8,\n          minHeight: 50,\n          margin: \"0 30px\"\n        }}\n      >\n        <div className={styles.videoGrid}>\n          {vlist.map((v, i) => {\n            if (!v.src || v.src === \"video not found\") return null;\n            return (\n              <div\n                key={v.name}\n                style={{ margin: \"20px 5px 0\", position: \"relative\" }}\n              >\n                {!showPreview ? (\n                  <div style={{ position: \"relative\" }}>\n                    <a href={v.src}>{v.name}</a>\n                    <input\n                      name=\"isSelected\"\n                      type=\"checkbox\"\n                      className={styles.checkboxSimple}\n                      checked={vlistChecked[i] || false}\n                      onChange={e => handleCheckbox(e.target.checked, i)}\n                    />\n                  </div>\n                ) : (\n                  <div\n                    style={{\n                      position: \"relative\",\n                      width: 400,\n                      margin: \"0 auto\"\n                    }}\n                  >\n                    <video\n                      height={400}\n                      controls\n                      autoPlay\n                      playsInline\n                      loop\n                      muted\n                    >\n                      <source src={v.src} type=\"video/webm\" />\n                    </video>\n                    <small className={styles.videoName}>{v.name}</small>\n                    <input\n                      name=\"isSelected\"\n                      type=\"checkbox\"\n                      className={styles.checkbox}\n                      checked={vlistChecked[i] || false}\n                      onChange={e => handleCheckbox(e.target.checked, i)}\n                    />\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default VideoList;\n","import React, { useState, useEffect } from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport { pullAppStateFromDB } from \"../../Database\";\n\nconst RecorderMonitor = () => {\n  const [recorderState, setRecorderState] = useState({});\n  useEffect(() => {\n    const getRecorderState = async () => {\n      const res = await pullAppStateFromDB();\n      setRecorderState(res);\n    };\n    getRecorderState();\n  }, []);\n\n  const recState = Object.keys(recorderState).map((v, i) => {\n    return (\n      <tr key={i}>\n        <td>{v}</td>\n        <td>{`${recorderState[v]}`}</td>\n      </tr>\n    );\n  });\n\n  return (\n    <div className={styles.recorderMonitorContainer}>\n      <table className={styles.listTable}>\n        <thead>\n          <tr>\n            <td>\n              <h3>video recorder settings</h3>\n            </td>\n          </tr>\n        </thead>\n        <tbody>{recState}</tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default RecorderMonitor;\n","import React, { useState, useEffect } from \"react\";\n// timestamps\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/ja\";\n\nimport styles from \"./index.module.css\";\n\nimport VideoGallery from \"./VideoGallery\";\nimport RecorderMonitor from \"./RecorderMonitor\";\ndayjs.locale(\"ja\");\n\nconst Dashboard = () => {\n  const today = dayjs(\"2019-08-20\").format(\"YYYY-MM-DD\");\n  const [date, setDate] = useState(today);\n  const [query, setQuery] = useState(today);\n\n  const handleUpdateVideoGallery = e => {\n    setQuery(date);\n    e.preventDefault();\n  };\n\n  return (\n    <div className={styles.dashboardContainer}>\n      <h1>ricecam viewer</h1>\n      <form onSubmit={handleUpdateVideoGallery}>\n        <input\n          style={{\n            height: 18,\n            padding: 5,\n            marginRight: 10,\n            borderRadius: 5,\n            outline: \"none\",\n            border: \"1px solid black\",\n            boxShadow: \"1px 2px 5px #08BDBD55\"\n          }}\n          onChange={e => setDate(e.target.value)}\n          value={date}\n          placeholder=\"2019-05-08\"\n        />\n        <button type=\"submit\">get videos</button>\n      </form>\n      <VideoGallery date={query} />\n      <RecorderMonitor />\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport Dashboard from \"./components/Dashboard\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <ol>\n          <li>object detection</li>\n        </ol>\n      </header>\n      <Dashboard />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoGrid\":\"VideoGallery_videoGrid__2We9H\",\"videoName\":\"VideoGallery_videoName__1Coam\",\"checkbox\":\"VideoGallery_checkbox__1fB00\",\"checkboxSimple\":\"VideoGallery_checkboxSimple__2M3a3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listContainer\":\"RecorderMonitor_listContainer__2OLpL\",\"listTable\":\"RecorderMonitor_listTable__3hOrM\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}